{"ast":null,"code":"const SUI_NS_NAME_REGEX = /^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i;\nconst SUI_NS_DOMAIN_REGEX = /^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\\.)+sui$/i;\nconst MAX_SUI_NS_NAME_LENGTH = 235;\nfunction isValidSuiNSName(name) {\n  if (name.length > MAX_SUI_NS_NAME_LENGTH) {\n    return false;\n  }\n  if (name.includes(\"@\")) {\n    return SUI_NS_NAME_REGEX.test(name);\n  }\n  return SUI_NS_DOMAIN_REGEX.test(name);\n}\nfunction normalizeSuiNSName(name, format = \"at\") {\n  const lowerCase = name.toLowerCase();\n  let parts;\n  if (lowerCase.includes(\"@\")) {\n    if (!SUI_NS_NAME_REGEX.test(lowerCase)) {\n      throw new Error(`Invalid SuiNS name ${name}`);\n    }\n    const [labels, domain] = lowerCase.split(\"@\");\n    parts = [...(labels ? labels.split(\".\") : []), domain];\n  } else {\n    if (!SUI_NS_DOMAIN_REGEX.test(lowerCase)) {\n      throw new Error(`Invalid SuiNS name ${name}`);\n    }\n    parts = lowerCase.split(\".\").slice(0, -1);\n  }\n  if (format === \"dot\") {\n    return `${parts.join(\".\")}.sui`;\n  }\n  return `${parts.slice(0, -1).join(\".\")}@${parts[parts.length - 1]}`;\n}\nexport { isValidSuiNSName, normalizeSuiNSName };","map":{"version":3,"names":["SUI_NS_NAME_REGEX","SUI_NS_DOMAIN_REGEX","MAX_SUI_NS_NAME_LENGTH","isValidSuiNSName","name","length","includes","test","normalizeSuiNSName","format","lowerCase","toLowerCase","parts","Error","labels","domain","split","slice","join"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\r\\sui-workshop\\node_modules\\@mysten\\sui\\src\\utils\\suins.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nconst SUI_NS_NAME_REGEX =\n\t/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i;\nconst SUI_NS_DOMAIN_REGEX = /^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\\.)+sui$/i;\nconst MAX_SUI_NS_NAME_LENGTH = 235;\n\nexport function isValidSuiNSName(name: string): boolean {\n\tif (name.length > MAX_SUI_NS_NAME_LENGTH) {\n\t\treturn false;\n\t}\n\n\tif (name.includes('@')) {\n\t\treturn SUI_NS_NAME_REGEX.test(name);\n\t}\n\n\treturn SUI_NS_DOMAIN_REGEX.test(name);\n}\n\nexport function normalizeSuiNSName(name: string, format: 'at' | 'dot' = 'at'): string {\n\tconst lowerCase = name.toLowerCase();\n\tlet parts;\n\n\tif (lowerCase.includes('@')) {\n\t\tif (!SUI_NS_NAME_REGEX.test(lowerCase)) {\n\t\t\tthrow new Error(`Invalid SuiNS name ${name}`);\n\t\t}\n\t\tconst [labels, domain] = lowerCase.split('@');\n\t\tparts = [...(labels ? labels.split('.') : []), domain];\n\t} else {\n\t\tif (!SUI_NS_DOMAIN_REGEX.test(lowerCase)) {\n\t\t\tthrow new Error(`Invalid SuiNS name ${name}`);\n\t\t}\n\t\tparts = lowerCase.split('.').slice(0, -1);\n\t}\n\n\tif (format === 'dot') {\n\t\treturn `${parts.join('.')}.sui`;\n\t}\n\n\treturn `${parts.slice(0, -1).join('.')}@${parts[parts.length - 1]}`;\n}\n"],"mappings":"AAGA,MAAMA,iBAAA,GACL;AACD,MAAMC,mBAAA,GAAsB;AAC5B,MAAMC,sBAAA,GAAyB;AAExB,SAASC,iBAAiBC,IAAA,EAAuB;EACvD,IAAIA,IAAA,CAAKC,MAAA,GAASH,sBAAA,EAAwB;IACzC,OAAO;EACR;EAEA,IAAIE,IAAA,CAAKE,QAAA,CAAS,GAAG,GAAG;IACvB,OAAON,iBAAA,CAAkBO,IAAA,CAAKH,IAAI;EACnC;EAEA,OAAOH,mBAAA,CAAoBM,IAAA,CAAKH,IAAI;AACrC;AAEO,SAASI,mBAAmBJ,IAAA,EAAcK,MAAA,GAAuB,MAAc;EACrF,MAAMC,SAAA,GAAYN,IAAA,CAAKO,WAAA,CAAY;EACnC,IAAIC,KAAA;EAEJ,IAAIF,SAAA,CAAUJ,QAAA,CAAS,GAAG,GAAG;IAC5B,IAAI,CAACN,iBAAA,CAAkBO,IAAA,CAAKG,SAAS,GAAG;MACvC,MAAM,IAAIG,KAAA,CAAM,sBAAsBT,IAAI,EAAE;IAC7C;IACA,MAAM,CAACU,MAAA,EAAQC,MAAM,IAAIL,SAAA,CAAUM,KAAA,CAAM,GAAG;IAC5CJ,KAAA,GAAQ,CAAC,IAAIE,MAAA,GAASA,MAAA,CAAOE,KAAA,CAAM,GAAG,IAAI,EAAC,GAAID,MAAM;EACtD,OAAO;IACN,IAAI,CAACd,mBAAA,CAAoBM,IAAA,CAAKG,SAAS,GAAG;MACzC,MAAM,IAAIG,KAAA,CAAM,sBAAsBT,IAAI,EAAE;IAC7C;IACAQ,KAAA,GAAQF,SAAA,CAAUM,KAAA,CAAM,GAAG,EAAEC,KAAA,CAAM,GAAG,EAAE;EACzC;EAEA,IAAIR,MAAA,KAAW,OAAO;IACrB,OAAO,GAAGG,KAAA,CAAMM,IAAA,CAAK,GAAG,CAAC;EAC1B;EAEA,OAAO,GAAGN,KAAA,CAAMK,KAAA,CAAM,GAAG,EAAE,EAAEC,IAAA,CAAK,GAAG,CAAC,IAAIN,KAAA,CAAMA,KAAA,CAAMP,MAAA,GAAS,CAAC,CAAC;AAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}