{"ast":null,"code":"// src/index.ts\nvar AhoCorasick = class {\n  constructor(keywords) {\n    const {\n      failure,\n      gotoFn,\n      output\n    } = this._buildTables(keywords);\n    this.gotoFn = gotoFn;\n    this.output = output;\n    this.failure = failure;\n  }\n  _buildTables(keywords) {\n    const gotoFn = {\n      0: {}\n    };\n    const output = {};\n    let state = 0;\n    for (const word of keywords) {\n      let curr = 0;\n      for (const l of word) {\n        if (gotoFn[curr] && l in gotoFn[curr]) {\n          curr = gotoFn[curr][l];\n        } else {\n          state++;\n          gotoFn[curr][l] = state;\n          gotoFn[state] = {};\n          curr = state;\n          output[state] = [];\n        }\n      }\n      output[curr].push(word);\n    }\n    const failure = {};\n    const xs = [];\n    for (const l in gotoFn[0]) {\n      const state2 = gotoFn[0][l];\n      failure[state2] = 0;\n      xs.push(state2);\n    }\n    while (xs.length > 0) {\n      const r = xs.shift();\n      if (r !== void 0) {\n        for (const l in gotoFn[r]) {\n          const s = gotoFn[r][l];\n          xs.push(s);\n          let state2 = failure[r];\n          while (state2 > 0 && !(l in gotoFn[state2])) {\n            state2 = failure[state2];\n          }\n          if (l in gotoFn[state2]) {\n            const fs = gotoFn[state2][l];\n            failure[s] = fs;\n            output[s] = [...output[s], ...output[fs]];\n          } else {\n            failure[s] = 0;\n          }\n        }\n      }\n    }\n    return {\n      gotoFn,\n      output,\n      failure\n    };\n  }\n  search(str) {\n    let state = 0;\n    const results = [];\n    for (let i = 0; i < str.length; i++) {\n      const l = str[i];\n      while (state > 0 && !(l in this.gotoFn[state])) {\n        state = this.failure[state];\n      }\n      if (!(l in this.gotoFn[state])) {\n        continue;\n      }\n      state = this.gotoFn[state][l];\n      if (this.output[state].length > 0) {\n        const foundStrs = this.output[state];\n        results.push([i, foundStrs]);\n      }\n    }\n    return results;\n  }\n  match(str) {\n    let state = 0;\n    for (let i = 0; i < str.length; i++) {\n      const l = str[i];\n      while (state > 0 && !(l in this.gotoFn[state])) {\n        state = this.failure[state];\n      }\n      if (!(l in this.gotoFn[state])) {\n        continue;\n      }\n      state = this.gotoFn[state][l];\n      if (this.output[state].length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n};\nexport { AhoCorasick as default };","map":{"version":3,"names":["AhoCorasick","constructor","keywords","failure","gotoFn","output","_buildTables","state","word","curr","l","push","xs","state2","length","r","shift","s","fs","search","str","results","i","foundStrs","match","default"],"sources":["C:/Users/hp/OneDrive/Desktop/r/sui-workshop/node_modules/modern-ahocorasick/dist/index.js"],"sourcesContent":["// src/index.ts\nvar AhoCorasick = class {\n  constructor(keywords) {\n    const { failure, gotoFn, output } = this._buildTables(keywords);\n    this.gotoFn = gotoFn;\n    this.output = output;\n    this.failure = failure;\n  }\n  _buildTables(keywords) {\n    const gotoFn = {\n      0: {}\n    };\n    const output = {};\n    let state = 0;\n    for (const word of keywords) {\n      let curr = 0;\n      for (const l of word) {\n        if (gotoFn[curr] && l in gotoFn[curr]) {\n          curr = gotoFn[curr][l];\n        } else {\n          state++;\n          gotoFn[curr][l] = state;\n          gotoFn[state] = {};\n          curr = state;\n          output[state] = [];\n        }\n      }\n      output[curr].push(word);\n    }\n    const failure = {};\n    const xs = [];\n    for (const l in gotoFn[0]) {\n      const state2 = gotoFn[0][l];\n      failure[state2] = 0;\n      xs.push(state2);\n    }\n    while (xs.length > 0) {\n      const r = xs.shift();\n      if (r !== void 0) {\n        for (const l in gotoFn[r]) {\n          const s = gotoFn[r][l];\n          xs.push(s);\n          let state2 = failure[r];\n          while (state2 > 0 && !(l in gotoFn[state2])) {\n            state2 = failure[state2];\n          }\n          if (l in gotoFn[state2]) {\n            const fs = gotoFn[state2][l];\n            failure[s] = fs;\n            output[s] = [...output[s], ...output[fs]];\n          } else {\n            failure[s] = 0;\n          }\n        }\n      }\n    }\n    return {\n      gotoFn,\n      output,\n      failure\n    };\n  }\n  search(str) {\n    let state = 0;\n    const results = [];\n    for (let i = 0; i < str.length; i++) {\n      const l = str[i];\n      while (state > 0 && !(l in this.gotoFn[state])) {\n        state = this.failure[state];\n      }\n      if (!(l in this.gotoFn[state])) {\n        continue;\n      }\n      state = this.gotoFn[state][l];\n      if (this.output[state].length > 0) {\n        const foundStrs = this.output[state];\n        results.push([i, foundStrs]);\n      }\n    }\n    return results;\n  }\n  match(str) {\n    let state = 0;\n    for (let i = 0; i < str.length; i++) {\n      const l = str[i];\n      while (state > 0 && !(l in this.gotoFn[state])) {\n        state = this.failure[state];\n      }\n      if (!(l in this.gotoFn[state])) {\n        continue;\n      }\n      state = this.gotoFn[state][l];\n      if (this.output[state].length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n};\nexport {\n  AhoCorasick as default\n};\n"],"mappings":"AAAA;AACA,IAAIA,WAAW,GAAG,MAAM;EACtBC,WAAWA,CAACC,QAAQ,EAAE;IACpB,MAAM;MAAEC,OAAO;MAAEC,MAAM;MAAEC;IAAO,CAAC,GAAG,IAAI,CAACC,YAAY,CAACJ,QAAQ,CAAC;IAC/D,IAAI,CAACE,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACF,OAAO,GAAGA,OAAO;EACxB;EACAG,YAAYA,CAACJ,QAAQ,EAAE;IACrB,MAAME,MAAM,GAAG;MACb,CAAC,EAAE,CAAC;IACN,CAAC;IACD,MAAMC,MAAM,GAAG,CAAC,CAAC;IACjB,IAAIE,KAAK,GAAG,CAAC;IACb,KAAK,MAAMC,IAAI,IAAIN,QAAQ,EAAE;MAC3B,IAAIO,IAAI,GAAG,CAAC;MACZ,KAAK,MAAMC,CAAC,IAAIF,IAAI,EAAE;QACpB,IAAIJ,MAAM,CAACK,IAAI,CAAC,IAAIC,CAAC,IAAIN,MAAM,CAACK,IAAI,CAAC,EAAE;UACrCA,IAAI,GAAGL,MAAM,CAACK,IAAI,CAAC,CAACC,CAAC,CAAC;QACxB,CAAC,MAAM;UACLH,KAAK,EAAE;UACPH,MAAM,CAACK,IAAI,CAAC,CAACC,CAAC,CAAC,GAAGH,KAAK;UACvBH,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC;UAClBE,IAAI,GAAGF,KAAK;UACZF,MAAM,CAACE,KAAK,CAAC,GAAG,EAAE;QACpB;MACF;MACAF,MAAM,CAACI,IAAI,CAAC,CAACE,IAAI,CAACH,IAAI,CAAC;IACzB;IACA,MAAML,OAAO,GAAG,CAAC,CAAC;IAClB,MAAMS,EAAE,GAAG,EAAE;IACb,KAAK,MAAMF,CAAC,IAAIN,MAAM,CAAC,CAAC,CAAC,EAAE;MACzB,MAAMS,MAAM,GAAGT,MAAM,CAAC,CAAC,CAAC,CAACM,CAAC,CAAC;MAC3BP,OAAO,CAACU,MAAM,CAAC,GAAG,CAAC;MACnBD,EAAE,CAACD,IAAI,CAACE,MAAM,CAAC;IACjB;IACA,OAAOD,EAAE,CAACE,MAAM,GAAG,CAAC,EAAE;MACpB,MAAMC,CAAC,GAAGH,EAAE,CAACI,KAAK,CAAC,CAAC;MACpB,IAAID,CAAC,KAAK,KAAK,CAAC,EAAE;QAChB,KAAK,MAAML,CAAC,IAAIN,MAAM,CAACW,CAAC,CAAC,EAAE;UACzB,MAAME,CAAC,GAAGb,MAAM,CAACW,CAAC,CAAC,CAACL,CAAC,CAAC;UACtBE,EAAE,CAACD,IAAI,CAACM,CAAC,CAAC;UACV,IAAIJ,MAAM,GAAGV,OAAO,CAACY,CAAC,CAAC;UACvB,OAAOF,MAAM,GAAG,CAAC,IAAI,EAAEH,CAAC,IAAIN,MAAM,CAACS,MAAM,CAAC,CAAC,EAAE;YAC3CA,MAAM,GAAGV,OAAO,CAACU,MAAM,CAAC;UAC1B;UACA,IAAIH,CAAC,IAAIN,MAAM,CAACS,MAAM,CAAC,EAAE;YACvB,MAAMK,EAAE,GAAGd,MAAM,CAACS,MAAM,CAAC,CAACH,CAAC,CAAC;YAC5BP,OAAO,CAACc,CAAC,CAAC,GAAGC,EAAE;YACfb,MAAM,CAACY,CAAC,CAAC,GAAG,CAAC,GAAGZ,MAAM,CAACY,CAAC,CAAC,EAAE,GAAGZ,MAAM,CAACa,EAAE,CAAC,CAAC;UAC3C,CAAC,MAAM;YACLf,OAAO,CAACc,CAAC,CAAC,GAAG,CAAC;UAChB;QACF;MACF;IACF;IACA,OAAO;MACLb,MAAM;MACNC,MAAM;MACNF;IACF,CAAC;EACH;EACAgB,MAAMA,CAACC,GAAG,EAAE;IACV,IAAIb,KAAK,GAAG,CAAC;IACb,MAAMc,OAAO,GAAG,EAAE;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACN,MAAM,EAAEQ,CAAC,EAAE,EAAE;MACnC,MAAMZ,CAAC,GAAGU,GAAG,CAACE,CAAC,CAAC;MAChB,OAAOf,KAAK,GAAG,CAAC,IAAI,EAAEG,CAAC,IAAI,IAAI,CAACN,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE;QAC9CA,KAAK,GAAG,IAAI,CAACJ,OAAO,CAACI,KAAK,CAAC;MAC7B;MACA,IAAI,EAAEG,CAAC,IAAI,IAAI,CAACN,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE;QAC9B;MACF;MACAA,KAAK,GAAG,IAAI,CAACH,MAAM,CAACG,KAAK,CAAC,CAACG,CAAC,CAAC;MAC7B,IAAI,IAAI,CAACL,MAAM,CAACE,KAAK,CAAC,CAACO,MAAM,GAAG,CAAC,EAAE;QACjC,MAAMS,SAAS,GAAG,IAAI,CAAClB,MAAM,CAACE,KAAK,CAAC;QACpCc,OAAO,CAACV,IAAI,CAAC,CAACW,CAAC,EAAEC,SAAS,CAAC,CAAC;MAC9B;IACF;IACA,OAAOF,OAAO;EAChB;EACAG,KAAKA,CAACJ,GAAG,EAAE;IACT,IAAIb,KAAK,GAAG,CAAC;IACb,KAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACN,MAAM,EAAEQ,CAAC,EAAE,EAAE;MACnC,MAAMZ,CAAC,GAAGU,GAAG,CAACE,CAAC,CAAC;MAChB,OAAOf,KAAK,GAAG,CAAC,IAAI,EAAEG,CAAC,IAAI,IAAI,CAACN,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE;QAC9CA,KAAK,GAAG,IAAI,CAACJ,OAAO,CAACI,KAAK,CAAC;MAC7B;MACA,IAAI,EAAEG,CAAC,IAAI,IAAI,CAACN,MAAM,CAACG,KAAK,CAAC,CAAC,EAAE;QAC9B;MACF;MACAA,KAAK,GAAG,IAAI,CAACH,MAAM,CAACG,KAAK,CAAC,CAACG,CAAC,CAAC;MAC7B,IAAI,IAAI,CAACL,MAAM,CAACE,KAAK,CAAC,CAACO,MAAM,GAAG,CAAC,EAAE;QACjC,OAAO,IAAI;MACb;IACF;IACA,OAAO,KAAK;EACd;AACF,CAAC;AACD,SACEd,WAAW,IAAIyB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}