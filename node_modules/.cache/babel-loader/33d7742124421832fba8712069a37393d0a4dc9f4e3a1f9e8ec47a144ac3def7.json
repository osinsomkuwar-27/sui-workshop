{"ast":null,"code":"import { is } from \"valibot\";\nimport { normalizeSuiAddress } from \"../utils/sui-types.js\";\nimport { Argument } from \"./data/internal.js\";\nfunction extractMutableReference(normalizedType) {\n  return typeof normalizedType === \"object\" && \"MutableReference\" in normalizedType ? normalizedType.MutableReference : void 0;\n}\nfunction extractReference(normalizedType) {\n  return typeof normalizedType === \"object\" && \"Reference\" in normalizedType ? normalizedType.Reference : void 0;\n}\nfunction extractStructTag(normalizedType) {\n  if (typeof normalizedType === \"object\" && \"Struct\" in normalizedType) {\n    return normalizedType;\n  }\n  const ref = extractReference(normalizedType);\n  const mutRef = extractMutableReference(normalizedType);\n  if (typeof ref === \"object\" && \"Struct\" in ref) {\n    return ref;\n  }\n  if (typeof mutRef === \"object\" && \"Struct\" in mutRef) {\n    return mutRef;\n  }\n  return void 0;\n}\nfunction getIdFromCallArg(arg) {\n  if (typeof arg === \"string\") {\n    return normalizeSuiAddress(arg);\n  }\n  if (arg.Object) {\n    if (arg.Object.ImmOrOwnedObject) {\n      return normalizeSuiAddress(arg.Object.ImmOrOwnedObject.objectId);\n    }\n    if (arg.Object.Receiving) {\n      return normalizeSuiAddress(arg.Object.Receiving.objectId);\n    }\n    return normalizeSuiAddress(arg.Object.SharedObject.objectId);\n  }\n  if (arg.UnresolvedObject) {\n    return normalizeSuiAddress(arg.UnresolvedObject.objectId);\n  }\n  return void 0;\n}\nfunction isArgument(value) {\n  return is(Argument, value);\n}\nexport { extractMutableReference, extractReference, extractStructTag, getIdFromCallArg, isArgument };","map":{"version":3,"names":["is","normalizeSuiAddress","Argument","extractMutableReference","normalizedType","MutableReference","extractReference","Reference","extractStructTag","ref","mutRef","getIdFromCallArg","arg","Object","ImmOrOwnedObject","objectId","Receiving","SharedObject","UnresolvedObject","isArgument","value"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\r\\sui-workshop\\node_modules\\@mysten\\sui\\src\\transactions\\utils.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { is } from 'valibot';\n\nimport type { SuiMoveNormalizedType } from '../client/index.js';\nimport { normalizeSuiAddress } from '../utils/sui-types.js';\nimport { Argument } from './data/internal.js';\nimport type { CallArg } from './data/internal.js';\n\nexport function extractMutableReference(\n\tnormalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n\treturn typeof normalizedType === 'object' && 'MutableReference' in normalizedType\n\t\t? normalizedType.MutableReference\n\t\t: undefined;\n}\n\nexport function extractReference(\n\tnormalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n\treturn typeof normalizedType === 'object' && 'Reference' in normalizedType\n\t\t? normalizedType.Reference\n\t\t: undefined;\n}\n\nexport function extractStructTag(\n\tnormalizedType: SuiMoveNormalizedType,\n): Extract<SuiMoveNormalizedType, { Struct: unknown }> | undefined {\n\tif (typeof normalizedType === 'object' && 'Struct' in normalizedType) {\n\t\treturn normalizedType;\n\t}\n\n\tconst ref = extractReference(normalizedType);\n\tconst mutRef = extractMutableReference(normalizedType);\n\n\tif (typeof ref === 'object' && 'Struct' in ref) {\n\t\treturn ref;\n\t}\n\n\tif (typeof mutRef === 'object' && 'Struct' in mutRef) {\n\t\treturn mutRef;\n\t}\n\treturn undefined;\n}\n\nexport function getIdFromCallArg(arg: string | CallArg) {\n\tif (typeof arg === 'string') {\n\t\treturn normalizeSuiAddress(arg);\n\t}\n\n\tif (arg.Object) {\n\t\tif (arg.Object.ImmOrOwnedObject) {\n\t\t\treturn normalizeSuiAddress(arg.Object.ImmOrOwnedObject.objectId);\n\t\t}\n\n\t\tif (arg.Object.Receiving) {\n\t\t\treturn normalizeSuiAddress(arg.Object.Receiving.objectId);\n\t\t}\n\n\t\treturn normalizeSuiAddress(arg.Object.SharedObject.objectId);\n\t}\n\n\tif (arg.UnresolvedObject) {\n\t\treturn normalizeSuiAddress(arg.UnresolvedObject.objectId);\n\t}\n\n\treturn undefined;\n}\n\nexport function isArgument(value: unknown): value is Argument {\n\treturn is(Argument, value);\n}\n"],"mappings":"AAGA,SAASA,EAAA,QAAU;AAGnB,SAASC,mBAAA,QAA2B;AACpC,SAASC,QAAA,QAAgB;AAGlB,SAASC,wBACfC,cAAA,EACoC;EACpC,OAAO,OAAOA,cAAA,KAAmB,YAAY,sBAAsBA,cAAA,GAChEA,cAAA,CAAeC,gBAAA,GACf;AACJ;AAEO,SAASC,iBACfF,cAAA,EACoC;EACpC,OAAO,OAAOA,cAAA,KAAmB,YAAY,eAAeA,cAAA,GACzDA,cAAA,CAAeG,SAAA,GACf;AACJ;AAEO,SAASC,iBACfJ,cAAA,EACkE;EAClE,IAAI,OAAOA,cAAA,KAAmB,YAAY,YAAYA,cAAA,EAAgB;IACrE,OAAOA,cAAA;EACR;EAEA,MAAMK,GAAA,GAAMH,gBAAA,CAAiBF,cAAc;EAC3C,MAAMM,MAAA,GAASP,uBAAA,CAAwBC,cAAc;EAErD,IAAI,OAAOK,GAAA,KAAQ,YAAY,YAAYA,GAAA,EAAK;IAC/C,OAAOA,GAAA;EACR;EAEA,IAAI,OAAOC,MAAA,KAAW,YAAY,YAAYA,MAAA,EAAQ;IACrD,OAAOA,MAAA;EACR;EACA,OAAO;AACR;AAEO,SAASC,iBAAiBC,GAAA,EAAuB;EACvD,IAAI,OAAOA,GAAA,KAAQ,UAAU;IAC5B,OAAOX,mBAAA,CAAoBW,GAAG;EAC/B;EAEA,IAAIA,GAAA,CAAIC,MAAA,EAAQ;IACf,IAAID,GAAA,CAAIC,MAAA,CAAOC,gBAAA,EAAkB;MAChC,OAAOb,mBAAA,CAAoBW,GAAA,CAAIC,MAAA,CAAOC,gBAAA,CAAiBC,QAAQ;IAChE;IAEA,IAAIH,GAAA,CAAIC,MAAA,CAAOG,SAAA,EAAW;MACzB,OAAOf,mBAAA,CAAoBW,GAAA,CAAIC,MAAA,CAAOG,SAAA,CAAUD,QAAQ;IACzD;IAEA,OAAOd,mBAAA,CAAoBW,GAAA,CAAIC,MAAA,CAAOI,YAAA,CAAaF,QAAQ;EAC5D;EAEA,IAAIH,GAAA,CAAIM,gBAAA,EAAkB;IACzB,OAAOjB,mBAAA,CAAoBW,GAAA,CAAIM,gBAAA,CAAiBH,QAAQ;EACzD;EAEA,OAAO;AACR;AAEO,SAASI,WAAWC,KAAA,EAAmC;EAC7D,OAAOpB,EAAA,CAAGE,QAAA,EAAUkB,KAAK;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}