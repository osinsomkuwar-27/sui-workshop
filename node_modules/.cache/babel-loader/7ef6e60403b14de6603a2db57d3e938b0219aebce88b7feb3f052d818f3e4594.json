{"ast":null,"code":"var __typeError = msg => {\n  throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg) => member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter) => (__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value) => member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method) => (__accessCheck(obj, member, \"access private method\"), method);\nvar _events, _accounts, _origin, _name, _network, _signTransactionBlock, _signTransaction, _signPersonalMessage, _on, _StashedWallet_instances, setAccount_fn, _connect, _disconnect;\nimport { Transaction } from \"@mysten/sui/transactions\";\nimport { toBase64 } from \"@mysten/sui/utils\";\nimport { getWallets, ReadonlyWalletAccount, SUI_MAINNET_CHAIN } from \"@mysten/wallet-standard\";\nimport mitt from \"mitt\";\nimport { DEFAULT_STASHED_ORIGIN, StashedPopup } from \"./channel/index.js\";\nconst STASHED_RECENT_ADDRESS_KEY = \"stashed:recentAddress\";\nconst STASHED_WALLET_NAME = \"Stashed\";\nclass StashedWallet {\n  constructor({\n    name,\n    network,\n    address,\n    origin = DEFAULT_STASHED_ORIGIN\n  }) {\n    __privateAdd(this, _StashedWallet_instances);\n    __privateAdd(this, _events);\n    __privateAdd(this, _accounts);\n    __privateAdd(this, _origin);\n    __privateAdd(this, _name);\n    __privateAdd(this, _network);\n    __privateAdd(this, _signTransactionBlock, async ({\n      transactionBlock,\n      account\n    }) => {\n      transactionBlock.setSenderIfNotSet(account.address);\n      const data = transactionBlock.serialize();\n      const popup = new StashedPopup({\n        name: __privateGet(this, _name),\n        origin: __privateGet(this, _origin),\n        network: __privateGet(this, _network)\n      });\n      const response = await popup.send({\n        type: \"sign-transaction-block\",\n        data,\n        address: account.address\n      });\n      return {\n        transactionBlockBytes: response.bytes,\n        signature: response.signature\n      };\n    });\n    __privateAdd(this, _signTransaction, async ({\n      transaction,\n      account\n    }) => {\n      const popup = new StashedPopup({\n        name: __privateGet(this, _name),\n        origin: __privateGet(this, _origin),\n        network: __privateGet(this, _network)\n      });\n      const tx = Transaction.from(await transaction.toJSON());\n      tx.setSenderIfNotSet(account.address);\n      const data = tx.serialize();\n      const response = await popup.send({\n        type: \"sign-transaction-block\",\n        data,\n        address: account.address\n      });\n      return {\n        bytes: response.bytes,\n        signature: response.signature\n      };\n    });\n    __privateAdd(this, _signPersonalMessage, async ({\n      message,\n      account\n    }) => {\n      const popup = new StashedPopup({\n        name: __privateGet(this, _name),\n        origin: __privateGet(this, _origin),\n        network: __privateGet(this, _network)\n      });\n      const bytes = toBase64(message);\n      const response = await popup.send({\n        type: \"sign-personal-message\",\n        bytes,\n        address: account.address\n      });\n      return {\n        bytes,\n        signature: response.signature\n      };\n    });\n    __privateAdd(this, _on, (event, listener) => {\n      __privateGet(this, _events).on(event, listener);\n      return () => __privateGet(this, _events).off(event, listener);\n    });\n    __privateAdd(this, _connect, async input => {\n      if (input?.silent) {\n        const address = localStorage.getItem(STASHED_RECENT_ADDRESS_KEY);\n        if (address) {\n          __privateMethod(this, _StashedWallet_instances, setAccount_fn).call(this, address);\n        }\n        return {\n          accounts: this.accounts\n        };\n      }\n      const popup = new StashedPopup({\n        name: __privateGet(this, _name),\n        origin: __privateGet(this, _origin),\n        network: __privateGet(this, _network)\n      });\n      const response = await popup.send({\n        type: \"connect\"\n      });\n      if (!(\"address\" in response)) {\n        throw new Error(\"Unexpected response\");\n      }\n      __privateMethod(this, _StashedWallet_instances, setAccount_fn).call(this, response.address);\n      return {\n        accounts: this.accounts\n      };\n    });\n    __privateAdd(this, _disconnect, async () => {\n      localStorage.removeItem(STASHED_RECENT_ADDRESS_KEY);\n      __privateMethod(this, _StashedWallet_instances, setAccount_fn).call(this);\n    });\n    __privateSet(this, _accounts, []);\n    __privateSet(this, _events, mitt());\n    __privateSet(this, _origin, origin);\n    __privateSet(this, _name, name);\n    __privateSet(this, _network, network);\n    if (address) {\n      __privateMethod(this, _StashedWallet_instances, setAccount_fn).call(this, address);\n    }\n  }\n  get name() {\n    return STASHED_WALLET_NAME;\n  }\n  get icon() {\n    return \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg==\";\n  }\n  get version() {\n    return \"1.0.0\";\n  }\n  get chains() {\n    return [SUI_MAINNET_CHAIN];\n  }\n  get accounts() {\n    return __privateGet(this, _accounts);\n  }\n  get features() {\n    return {\n      \"standard:connect\": {\n        version: \"1.0.0\",\n        connect: __privateGet(this, _connect)\n      },\n      \"standard:disconnect\": {\n        version: \"1.0.0\",\n        disconnect: __privateGet(this, _disconnect)\n      },\n      \"standard:events\": {\n        version: \"1.0.0\",\n        on: __privateGet(this, _on)\n      },\n      \"sui:signTransactionBlock\": {\n        version: \"1.0.0\",\n        signTransactionBlock: __privateGet(this, _signTransactionBlock)\n      },\n      \"sui:signTransaction\": {\n        version: \"2.0.0\",\n        signTransaction: __privateGet(this, _signTransaction)\n      },\n      \"sui:signPersonalMessage\": {\n        version: \"1.0.0\",\n        signPersonalMessage: __privateGet(this, _signPersonalMessage)\n      }\n    };\n  }\n}\n_events = new WeakMap();\n_accounts = new WeakMap();\n_origin = new WeakMap();\n_name = new WeakMap();\n_network = new WeakMap();\n_signTransactionBlock = new WeakMap();\n_signTransaction = new WeakMap();\n_signPersonalMessage = new WeakMap();\n_on = new WeakMap();\n_StashedWallet_instances = new WeakSet();\nsetAccount_fn = function (address) {\n  if (address) {\n    __privateSet(this, _accounts, [new ReadonlyWalletAccount({\n      address,\n      chains: [SUI_MAINNET_CHAIN],\n      features: [\"sui:signTransactionBlock\", \"sui:signPersonalMessage\"],\n      // NOTE: Stashed doesn't support getting public keys, and zkLogin accounts don't have meaningful public keys anyway\n      publicKey: new Uint8Array()\n    })]);\n    localStorage.setItem(STASHED_RECENT_ADDRESS_KEY, address);\n  } else {\n    __privateSet(this, _accounts, []);\n  }\n  __privateGet(this, _events).emit(\"change\", {\n    accounts: this.accounts\n  });\n};\n_connect = new WeakMap();\n_disconnect = new WeakMap();\nfunction registerStashedWallet(name, {\n  origin,\n  network = \"mainnet\"\n} = {}) {\n  const wallets = getWallets();\n  let addressFromRedirect = null;\n  try {\n    const params = new URLSearchParams(window.location.search);\n    addressFromRedirect = params.get(\"stashed_address\") || params.get(\"zksend_address\");\n  } catch {}\n  const wallet = new StashedWallet({\n    name,\n    network,\n    origin,\n    address: addressFromRedirect\n  });\n  const unregister = wallets.register(wallet);\n  return {\n    wallet,\n    unregister,\n    addressFromRedirect\n  };\n}\nexport { STASHED_WALLET_NAME, StashedWallet, registerStashedWallet };","map":{"version":3,"names":["_events","_accounts","_origin","_name","_network","_signTransactionBlock","_signTransaction","_signPersonalMessage","_on","_StashedWallet_instances","setAccount_fn","_connect","_disconnect","Transaction","toBase64","getWallets","ReadonlyWalletAccount","SUI_MAINNET_CHAIN","mitt","DEFAULT_STASHED_ORIGIN","StashedPopup","STASHED_RECENT_ADDRESS_KEY","STASHED_WALLET_NAME","StashedWallet","constructor","name","network","address","origin","__privateAdd","transactionBlock","account","setSenderIfNotSet","data","serialize","popup","__privateGet","response","send","type","transactionBlockBytes","bytes","signature","transaction","tx","from","toJSON","message","event","listener","on","off","input","silent","localStorage","getItem","__privateMethod","call","accounts","Error","removeItem","__privateSet","icon","version","chains","features","connect","disconnect","signTransactionBlock","signTransaction","signPersonalMessage","WeakMap","WeakSet","publicKey","Uint8Array","setItem","emit","registerStashedWallet","wallets","addressFromRedirect","params","URLSearchParams","window","location","search","get","wallet","unregister","register"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\r\\sui-workshop\\node_modules\\@mysten\\zksend\\src\\wallet\\index.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Transaction } from '@mysten/sui/transactions';\nimport { toBase64 } from '@mysten/sui/utils';\nimport type {\n\tStandardConnectFeature,\n\tStandardConnectMethod,\n\tStandardDisconnectFeature,\n\tStandardDisconnectMethod,\n\tStandardEventsFeature,\n\tStandardEventsListeners,\n\tStandardEventsOnMethod,\n\tSuiSignPersonalMessageFeature,\n\tSuiSignPersonalMessageMethod,\n\tSuiSignTransactionBlockFeature,\n\tSuiSignTransactionBlockMethod,\n\tSuiSignTransactionFeature,\n\tSuiSignTransactionMethod,\n\tWallet,\n} from '@mysten/wallet-standard';\nimport { getWallets, ReadonlyWalletAccount, SUI_MAINNET_CHAIN } from '@mysten/wallet-standard';\nimport type { Emitter } from 'mitt';\nimport mitt from 'mitt';\n\nimport { DEFAULT_STASHED_ORIGIN, StashedPopup } from './channel/index.js';\nimport type { StashedSupportedNetwork } from './types.js';\n\ntype WalletEventsMap = {\n\t[E in keyof StandardEventsListeners]: Parameters<StandardEventsListeners[E]>[0];\n};\n\nconst STASHED_RECENT_ADDRESS_KEY = 'stashed:recentAddress';\n\nexport const STASHED_WALLET_NAME = 'Stashed' as const;\n\nexport class StashedWallet implements Wallet {\n\t#events: Emitter<WalletEventsMap>;\n\t#accounts: ReadonlyWalletAccount[];\n\t#origin: string;\n\t#name: string;\n\t#network: StashedSupportedNetwork;\n\n\tget name() {\n\t\treturn STASHED_WALLET_NAME;\n\t}\n\n\tget icon() {\n\t\treturn 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg==' as const;\n\t}\n\n\tget version() {\n\t\treturn '1.0.0' as const;\n\t}\n\n\tget chains() {\n\t\treturn [SUI_MAINNET_CHAIN] as const;\n\t}\n\n\tget accounts() {\n\t\treturn this.#accounts;\n\t}\n\n\tget features(): StandardConnectFeature &\n\t\tStandardDisconnectFeature &\n\t\tStandardEventsFeature &\n\t\tSuiSignTransactionBlockFeature &\n\t\tSuiSignTransactionFeature &\n\t\tSuiSignPersonalMessageFeature {\n\t\treturn {\n\t\t\t'standard:connect': {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\tconnect: this.#connect,\n\t\t\t},\n\t\t\t'standard:disconnect': {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\tdisconnect: this.#disconnect,\n\t\t\t},\n\t\t\t'standard:events': {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\ton: this.#on,\n\t\t\t},\n\t\t\t'sui:signTransactionBlock': {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\tsignTransactionBlock: this.#signTransactionBlock,\n\t\t\t},\n\t\t\t'sui:signTransaction': {\n\t\t\t\tversion: '2.0.0',\n\t\t\t\tsignTransaction: this.#signTransaction,\n\t\t\t},\n\t\t\t'sui:signPersonalMessage': {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\tsignPersonalMessage: this.#signPersonalMessage,\n\t\t\t},\n\t\t};\n\t}\n\n\tconstructor({\n\t\tname,\n\t\tnetwork,\n\t\taddress,\n\t\torigin = DEFAULT_STASHED_ORIGIN,\n\t}: {\n\t\tname: string;\n\t\tnetwork: StashedSupportedNetwork;\n\t\torigin?: string;\n\t\taddress?: string | null;\n\t}) {\n\t\tthis.#accounts = [];\n\t\tthis.#events = mitt();\n\t\tthis.#origin = origin;\n\t\tthis.#name = name;\n\t\tthis.#network = network;\n\n\t\tif (address) {\n\t\t\tthis.#setAccount(address);\n\t\t}\n\t}\n\n\t#signTransactionBlock: SuiSignTransactionBlockMethod = async ({ transactionBlock, account }) => {\n\t\ttransactionBlock.setSenderIfNotSet(account.address);\n\n\t\tconst data = transactionBlock.serialize();\n\n\t\tconst popup = new StashedPopup({\n\t\t\tname: this.#name,\n\t\t\torigin: this.#origin,\n\t\t\tnetwork: this.#network,\n\t\t});\n\n\t\tconst response = await popup.send({\n\t\t\ttype: 'sign-transaction-block',\n\t\t\tdata,\n\t\t\taddress: account.address,\n\t\t});\n\n\t\treturn {\n\t\t\ttransactionBlockBytes: response.bytes,\n\t\t\tsignature: response.signature,\n\t\t};\n\t};\n\n\t#signTransaction: SuiSignTransactionMethod = async ({ transaction, account }) => {\n\t\tconst popup = new StashedPopup({\n\t\t\tname: this.#name,\n\t\t\torigin: this.#origin,\n\t\t\tnetwork: this.#network,\n\t\t});\n\n\t\tconst tx = Transaction.from(await transaction.toJSON());\n\t\ttx.setSenderIfNotSet(account.address);\n\n\t\tconst data = tx.serialize();\n\n\t\tconst response = await popup.send({\n\t\t\ttype: 'sign-transaction-block',\n\t\t\tdata,\n\t\t\taddress: account.address,\n\t\t});\n\n\t\treturn {\n\t\t\tbytes: response.bytes,\n\t\t\tsignature: response.signature,\n\t\t};\n\t};\n\n\t#signPersonalMessage: SuiSignPersonalMessageMethod = async ({ message, account }) => {\n\t\tconst popup = new StashedPopup({\n\t\t\tname: this.#name,\n\t\t\torigin: this.#origin,\n\t\t\tnetwork: this.#network,\n\t\t});\n\t\tconst bytes = toBase64(message);\n\n\t\tconst response = await popup.send({\n\t\t\ttype: 'sign-personal-message',\n\t\t\tbytes,\n\t\t\taddress: account.address,\n\t\t});\n\n\t\treturn {\n\t\t\tbytes,\n\t\t\tsignature: response.signature,\n\t\t};\n\t};\n\n\t#on: StandardEventsOnMethod = (event, listener) => {\n\t\tthis.#events.on(event, listener);\n\t\treturn () => this.#events.off(event, listener);\n\t};\n\n\t#setAccount(address?: string) {\n\t\tif (address) {\n\t\t\tthis.#accounts = [\n\t\t\t\tnew ReadonlyWalletAccount({\n\t\t\t\t\taddress,\n\t\t\t\t\tchains: [SUI_MAINNET_CHAIN],\n\t\t\t\t\tfeatures: ['sui:signTransactionBlock', 'sui:signPersonalMessage'],\n\t\t\t\t\t// NOTE: Stashed doesn't support getting public keys, and zkLogin accounts don't have meaningful public keys anyway\n\t\t\t\t\tpublicKey: new Uint8Array(),\n\t\t\t\t}),\n\t\t\t];\n\n\t\t\tlocalStorage.setItem(STASHED_RECENT_ADDRESS_KEY, address);\n\t\t} else {\n\t\t\tthis.#accounts = [];\n\t\t}\n\n\t\tthis.#events.emit('change', { accounts: this.accounts });\n\t}\n\n\t#connect: StandardConnectMethod = async (input) => {\n\t\tif (input?.silent) {\n\t\t\tconst address = localStorage.getItem(STASHED_RECENT_ADDRESS_KEY);\n\n\t\t\tif (address) {\n\t\t\t\tthis.#setAccount(address);\n\t\t\t}\n\n\t\t\treturn { accounts: this.accounts };\n\t\t}\n\n\t\tconst popup = new StashedPopup({\n\t\t\tname: this.#name,\n\t\t\torigin: this.#origin,\n\t\t\tnetwork: this.#network,\n\t\t});\n\n\t\tconst response = await popup.send({\n\t\t\ttype: 'connect',\n\t\t});\n\n\t\tif (!('address' in response)) {\n\t\t\tthrow new Error('Unexpected response');\n\t\t}\n\n\t\tthis.#setAccount(response.address);\n\n\t\treturn { accounts: this.accounts };\n\t};\n\n\t#disconnect: StandardDisconnectMethod = async () => {\n\t\tlocalStorage.removeItem(STASHED_RECENT_ADDRESS_KEY);\n\t\tthis.#setAccount();\n\t};\n}\n\nexport function registerStashedWallet(\n\tname: string,\n\t{\n\t\torigin,\n\t\tnetwork = 'mainnet',\n\t}: {\n\t\torigin?: string;\n\t\tnetwork?: StashedSupportedNetwork;\n\t} = {},\n) {\n\tconst wallets = getWallets();\n\n\tlet addressFromRedirect: string | null = null;\n\ttry {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\taddressFromRedirect = params.get('stashed_address') || params.get('zksend_address');\n\t} catch {\n\t\t// Ignore errors\n\t}\n\n\tconst wallet = new StashedWallet({\n\t\tname,\n\t\tnetwork,\n\t\torigin,\n\t\taddress: addressFromRedirect,\n\t});\n\n\tconst unregister = wallets.register(wallet);\n\n\treturn {\n\t\twallet,\n\t\tunregister,\n\t\taddressFromRedirect,\n\t};\n}\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,EAAAC,SAAA,EAAAC,OAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,qBAAA,EAAAC,gBAAA,EAAAC,oBAAA,EAAAC,GAAA,EAAAC,wBAAA,EAAAC,aAAA,EAAAC,QAAA,EAAAC,WAAA;AAGA,SAASC,WAAA,QAAmB;AAC5B,SAASC,QAAA,QAAgB;AAiBzB,SAASC,UAAA,EAAYC,qBAAA,EAAuBC,iBAAA,QAAyB;AAErE,OAAOC,IAAA,MAAU;AAEjB,SAASC,sBAAA,EAAwBC,YAAA,QAAoB;AAOrD,MAAMC,0BAAA,GAA6B;AAE5B,MAAMC,mBAAA,GAAsB;AAE5B,MAAMC,aAAA,CAAgC;EA6D5CC,YAAY;IACXC,IAAA;IACAC,OAAA;IACAC,OAAA;IACAC,MAAA,GAAST;EACV,GAKG;IAvEGU,YAAA,OAAApB,wBAAA;IACNoB,YAAA,OAAA7B,OAAA;IACA6B,YAAA,OAAA5B,SAAA;IACA4B,YAAA,OAAA3B,OAAA;IACA2B,YAAA,OAAA1B,KAAA;IACA0B,YAAA,OAAAzB,QAAA;IA8EAyB,YAAA,OAAAxB,qBAAA,EAAuD,OAAO;MAAEyB,gBAAA;MAAkBC;IAAQ,MAAM;MAC/FD,gBAAA,CAAiBE,iBAAA,CAAkBD,OAAA,CAAQJ,OAAO;MAElD,MAAMM,IAAA,GAAOH,gBAAA,CAAiBI,SAAA,CAAU;MAExC,MAAMC,KAAA,GAAQ,IAAIf,YAAA,CAAa;QAC9BK,IAAA,EAAMW,YAAA,OAAKjC,KAAA;QACXyB,MAAA,EAAQQ,YAAA,OAAKlC,OAAA;QACbwB,OAAA,EAASU,YAAA,OAAKhC,QAAA;MACf,CAAC;MAED,MAAMiC,QAAA,GAAW,MAAMF,KAAA,CAAMG,IAAA,CAAK;QACjCC,IAAA,EAAM;QACNN,IAAA;QACAN,OAAA,EAASI,OAAA,CAAQJ;MAClB,CAAC;MAED,OAAO;QACNa,qBAAA,EAAuBH,QAAA,CAASI,KAAA;QAChCC,SAAA,EAAWL,QAAA,CAASK;MACrB;IACD;IAEAb,YAAA,OAAAvB,gBAAA,EAA6C,OAAO;MAAEqC,WAAA;MAAaZ;IAAQ,MAAM;MAChF,MAAMI,KAAA,GAAQ,IAAIf,YAAA,CAAa;QAC9BK,IAAA,EAAMW,YAAA,OAAKjC,KAAA;QACXyB,MAAA,EAAQQ,YAAA,OAAKlC,OAAA;QACbwB,OAAA,EAASU,YAAA,OAAKhC,QAAA;MACf,CAAC;MAED,MAAMwC,EAAA,GAAK/B,WAAA,CAAYgC,IAAA,CAAK,MAAMF,WAAA,CAAYG,MAAA,CAAO,CAAC;MACtDF,EAAA,CAAGZ,iBAAA,CAAkBD,OAAA,CAAQJ,OAAO;MAEpC,MAAMM,IAAA,GAAOW,EAAA,CAAGV,SAAA,CAAU;MAE1B,MAAMG,QAAA,GAAW,MAAMF,KAAA,CAAMG,IAAA,CAAK;QACjCC,IAAA,EAAM;QACNN,IAAA;QACAN,OAAA,EAASI,OAAA,CAAQJ;MAClB,CAAC;MAED,OAAO;QACNc,KAAA,EAAOJ,QAAA,CAASI,KAAA;QAChBC,SAAA,EAAWL,QAAA,CAASK;MACrB;IACD;IAEAb,YAAA,OAAAtB,oBAAA,EAAqD,OAAO;MAAEwC,OAAA;MAAShB;IAAQ,MAAM;MACpF,MAAMI,KAAA,GAAQ,IAAIf,YAAA,CAAa;QAC9BK,IAAA,EAAMW,YAAA,OAAKjC,KAAA;QACXyB,MAAA,EAAQQ,YAAA,OAAKlC,OAAA;QACbwB,OAAA,EAASU,YAAA,OAAKhC,QAAA;MACf,CAAC;MACD,MAAMqC,KAAA,GAAQ3B,QAAA,CAASiC,OAAO;MAE9B,MAAMV,QAAA,GAAW,MAAMF,KAAA,CAAMG,IAAA,CAAK;QACjCC,IAAA,EAAM;QACNE,KAAA;QACAd,OAAA,EAASI,OAAA,CAAQJ;MAClB,CAAC;MAED,OAAO;QACNc,KAAA;QACAC,SAAA,EAAWL,QAAA,CAASK;MACrB;IACD;IAEAb,YAAA,OAAArB,GAAA,EAA8B,CAACwC,KAAA,EAAOC,QAAA,KAAa;MAClDb,YAAA,OAAKpC,OAAA,EAAQkD,EAAA,CAAGF,KAAA,EAAOC,QAAQ;MAC/B,OAAO,MAAMb,YAAA,OAAKpC,OAAA,EAAQmD,GAAA,CAAIH,KAAA,EAAOC,QAAQ;IAC9C;IAsBApB,YAAA,OAAAlB,QAAA,EAAkC,MAAOyC,KAAA,IAAU;MAClD,IAAIA,KAAA,EAAOC,MAAA,EAAQ;QAClB,MAAM1B,OAAA,GAAU2B,YAAA,CAAaC,OAAA,CAAQlC,0BAA0B;QAE/D,IAAIM,OAAA,EAAS;UACZ6B,eAAA,OAAK/C,wBAAA,EAAAC,aAAA,EAAL+C,IAAA,OAAiB9B,OAAA;QAClB;QAEA,OAAO;UAAE+B,QAAA,EAAU,KAAKA;QAAS;MAClC;MAEA,MAAMvB,KAAA,GAAQ,IAAIf,YAAA,CAAa;QAC9BK,IAAA,EAAMW,YAAA,OAAKjC,KAAA;QACXyB,MAAA,EAAQQ,YAAA,OAAKlC,OAAA;QACbwB,OAAA,EAASU,YAAA,OAAKhC,QAAA;MACf,CAAC;MAED,MAAMiC,QAAA,GAAW,MAAMF,KAAA,CAAMG,IAAA,CAAK;QACjCC,IAAA,EAAM;MACP,CAAC;MAED,IAAI,EAAE,aAAaF,QAAA,GAAW;QAC7B,MAAM,IAAIsB,KAAA,CAAM,qBAAqB;MACtC;MAEAH,eAAA,OAAK/C,wBAAA,EAAAC,aAAA,EAAL+C,IAAA,OAAiBpB,QAAA,CAASV,OAAA;MAE1B,OAAO;QAAE+B,QAAA,EAAU,KAAKA;MAAS;IAClC;IAEA7B,YAAA,OAAAjB,WAAA,EAAwC,YAAY;MACnD0C,YAAA,CAAaM,UAAA,CAAWvC,0BAA0B;MAClDmC,eAAA,OAAK/C,wBAAA,EAAAC,aAAA,EAAL+C,IAAA;IACD;IAxICI,YAAA,OAAK5D,SAAA,EAAY,EAAC;IAClB4D,YAAA,OAAK7D,OAAA,EAAUkB,IAAA,CAAK;IACpB2C,YAAA,OAAK3D,OAAA,EAAU0B,MAAA;IACfiC,YAAA,OAAK1D,KAAA,EAAQsB,IAAA;IACboC,YAAA,OAAKzD,QAAA,EAAWsB,OAAA;IAEhB,IAAIC,OAAA,EAAS;MACZ6B,eAAA,OAAK/C,wBAAA,EAAAC,aAAA,EAAL+C,IAAA,OAAiB9B,OAAA;IAClB;EACD;EA1EA,IAAIF,KAAA,EAAO;IACV,OAAOH,mBAAA;EACR;EAEA,IAAIwC,KAAA,EAAO;IACV,OAAO;EACR;EAEA,IAAIC,QAAA,EAAU;IACb,OAAO;EACR;EAEA,IAAIC,OAAA,EAAS;IACZ,OAAO,CAAC/C,iBAAiB;EAC1B;EAEA,IAAIyC,SAAA,EAAW;IACd,OAAOtB,YAAA,OAAKnC,SAAA;EACb;EAEA,IAAIgE,SAAA,EAK2B;IAC9B,OAAO;MACN,oBAAoB;QACnBF,OAAA,EAAS;QACTG,OAAA,EAAS9B,YAAA,OAAKzB,QAAA;MACf;MACA,uBAAuB;QACtBoD,OAAA,EAAS;QACTI,UAAA,EAAY/B,YAAA,OAAKxB,WAAA;MAClB;MACA,mBAAmB;QAClBmD,OAAA,EAAS;QACTb,EAAA,EAAId,YAAA,OAAK5B,GAAA;MACV;MACA,4BAA4B;QAC3BuD,OAAA,EAAS;QACTK,oBAAA,EAAsBhC,YAAA,OAAK/B,qBAAA;MAC5B;MACA,uBAAuB;QACtB0D,OAAA,EAAS;QACTM,eAAA,EAAiBjC,YAAA,OAAK9B,gBAAA;MACvB;MACA,2BAA2B;QAC1ByD,OAAA,EAAS;QACTO,mBAAA,EAAqBlC,YAAA,OAAK7B,oBAAA;MAC3B;IACD;EACD;AAsJD;AAhNCP,OAAA,OAAAuE,OAAA;AACAtE,SAAA,OAAAsE,OAAA;AACArE,OAAA,OAAAqE,OAAA;AACApE,KAAA,OAAAoE,OAAA;AACAnE,QAAA,OAAAmE,OAAA;AA8EAlE,qBAAA,OAAAkE,OAAA;AAuBAjE,gBAAA,OAAAiE,OAAA;AAwBAhE,oBAAA,OAAAgE,OAAA;AAoBA/D,GAAA,OAAA+D,OAAA;AAtJM9D,wBAAA,OAAA+D,OAAA;AA2JN9D,aAAA,GAAW,SAAAA,CAACiB,OAAA,EAAkB;EAC7B,IAAIA,OAAA,EAAS;IACZkC,YAAA,OAAK5D,SAAA,EAAY,CAChB,IAAIe,qBAAA,CAAsB;MACzBW,OAAA;MACAqC,MAAA,EAAQ,CAAC/C,iBAAiB;MAC1BgD,QAAA,EAAU,CAAC,4BAA4B,yBAAyB;MAAA;MAEhEQ,SAAA,EAAW,IAAIC,UAAA,CAAW;IAC3B,CAAC,EACF;IAEApB,YAAA,CAAaqB,OAAA,CAAQtD,0BAAA,EAA4BM,OAAO;EACzD,OAAO;IACNkC,YAAA,OAAK5D,SAAA,EAAY,EAAC;EACnB;EAEAmC,YAAA,OAAKpC,OAAA,EAAQ4E,IAAA,CAAK,UAAU;IAAElB,QAAA,EAAU,KAAKA;EAAS,CAAC;AACxD;AAEA/C,QAAA,OAAA4D,OAAA;AA8BA3D,WAAA,OAAA2D,OAAA;AAMM,SAASM,sBACfpD,IAAA,EACA;EACCG,MAAA;EACAF,OAAA,GAAU;AACX,IAGI,CAAC,GACJ;EACD,MAAMoD,OAAA,GAAU/D,UAAA,CAAW;EAE3B,IAAIgE,mBAAA,GAAqC;EACzC,IAAI;IACH,MAAMC,MAAA,GAAS,IAAIC,eAAA,CAAgBC,MAAA,CAAOC,QAAA,CAASC,MAAM;IACzDL,mBAAA,GAAsBC,MAAA,CAAOK,GAAA,CAAI,iBAAiB,KAAKL,MAAA,CAAOK,GAAA,CAAI,gBAAgB;EACnF,QAAQ,CAER;EAEA,MAAMC,MAAA,GAAS,IAAI/D,aAAA,CAAc;IAChCE,IAAA;IACAC,OAAA;IACAE,MAAA;IACAD,OAAA,EAASoD;EACV,CAAC;EAED,MAAMQ,UAAA,GAAaT,OAAA,CAAQU,QAAA,CAASF,MAAM;EAE1C,OAAO;IACNA,MAAA;IACAC,UAAA;IACAR;EACD;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}