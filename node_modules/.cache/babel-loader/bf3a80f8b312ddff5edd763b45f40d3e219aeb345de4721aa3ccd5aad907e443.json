{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\r\\\\sui-workshop\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Transaction } from '@mysten/sui/transactions';\nimport { useSignAndExecuteTransaction, ConnectButton, useCurrentAccount } from '@mysten/dapp-kit';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoyaltyCardPage = () => {\n  _s();\n  const currentAccount = useCurrentAccount();\n  const [loading, setLoading] = useState(false);\n  const [packageId, setPackageId] = useState('');\n\n  // Form states\n  const [mintForm, setMintForm] = useState({\n    customerId: '',\n    imageUrl: ''\n  });\n  const {\n    mutate: signAndExecute\n  } = useSignAndExecuteTransaction();\n  const handleMintChange = e => {\n    setMintForm({\n      ...mintForm,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Action: mint a new Loyalty card\n  const mintLoyalty = async () => {\n    if (!currentAccount) {\n      alert('Please connect your wallet');\n      return;\n    }\n    try {\n      setLoading(true);\n      const tx = new Transaction();\n      tx.moveCall({\n        target: `${packageId}::loyalty_card::mint_loyalty`,\n        arguments: [tx.pure.address(mintForm.customerId), tx.pure.string(mintForm.imageUrl)]\n      });\n      await signAndExecute({\n        transaction: tx\n      });\n      setMintForm({\n        customerId: '',\n        imageUrl: ''\n      });\n    } catch (error) {\n      console.error('Error minting loyalty card:', error);\n      alert(`Minting failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Mint Your NFT on SUI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConnectButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"package-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Package ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: packageId,\n        onChange: e => setPackageId(e.target.value),\n        placeholder: \"Enter Package ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Wallet Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"customerId\",\n        value: mintForm.customerId,\n        onChange: handleMintChange,\n        placeholder: \"Enter Customer Sui Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Image URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"imageUrl\",\n        value: mintForm.imageUrl,\n        onChange: handleMintChange,\n        placeholder: \"Enter Image URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: mintLoyalty,\n        disabled: loading || !mintForm.customerId.trim() || !mintForm.imageUrl.trim(),\n        children: \"Mint your NFT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(LoyaltyCardPage, \"2Z362WMh6iiLdmArFb3UXYaObWA=\", false, function () {\n  return [useCurrentAccount, useSignAndExecuteTransaction];\n});\n_c = LoyaltyCardPage;\nexport default LoyaltyCardPage;\nvar _c;\n$RefreshReg$(_c, \"LoyaltyCardPage\");","map":{"version":3,"names":["React","useState","Transaction","useSignAndExecuteTransaction","ConnectButton","useCurrentAccount","jsxDEV","_jsxDEV","LoyaltyCardPage","_s","currentAccount","loading","setLoading","packageId","setPackageId","mintForm","setMintForm","customerId","imageUrl","mutate","signAndExecute","handleMintChange","e","target","name","value","mintLoyalty","alert","tx","moveCall","arguments","pure","address","string","transaction","error","console","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","onClick","disabled","trim","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/r/sui-workshop/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Transaction } from '@mysten/sui/transactions';\r\nimport {\r\n  useSignAndExecuteTransaction,\r\n  ConnectButton,\r\n  useCurrentAccount\r\n} from '@mysten/dapp-kit';\r\nimport './App.css';\r\n\r\nconst LoyaltyCardPage = () => {\r\n  const currentAccount = useCurrentAccount();\r\n  const [loading, setLoading] = useState(false);\r\n  const [packageId, setPackageId] = useState('');\r\n\r\n  // Form states\r\n  const [mintForm, setMintForm] = useState({\r\n    customerId: '',\r\n    imageUrl: ''\r\n  });\r\n\r\n  const { mutate: signAndExecute } = useSignAndExecuteTransaction();\r\n\r\n  const handleMintChange = (e) => {\r\n    setMintForm({ ...mintForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Action: mint a new Loyalty card\r\n  const mintLoyalty = async () => {\r\n    if (!currentAccount) {\r\n      alert('Please connect your wallet');\r\n      return;\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const tx = new Transaction();\r\n      tx.moveCall({\r\n  target: `${packageId}::loyalty_card::mint_loyalty`,\r\n  arguments: [\r\n    tx.pure.address(mintForm.customerId),\r\n    tx.pure.string(mintForm.imageUrl)\r\n  ]\r\n});\r\n\r\n      await signAndExecute({ transaction: tx });\r\n      setMintForm({ customerId: '', imageUrl: '' });\r\n    } catch (error) {\r\n      console.error('Error minting loyalty card:', error);\r\n      alert(`Minting failed: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Mint Your NFT on SUI</h1>\r\n      <ConnectButton />\r\n\r\n      <div className=\"package-input\">\r\n        <label>Package ID</label>\r\n        <input\r\n          type=\"text\"\r\n          value={packageId}\r\n          onChange={(e) => setPackageId(e.target.value)}\r\n          placeholder=\"Enter Package ID\"\r\n        />\r\n      </div>\r\n\r\n      {/* Mint Loyalty Card */}\r\n      <section className=\"form-section\">\r\n        <label>Wallet Address</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"customerId\"\r\n          value={mintForm.customerId}\r\n          onChange={handleMintChange}\r\n          placeholder=\"Enter Customer Sui Address\"\r\n        />\r\n        <label>Image URL</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"imageUrl\"\r\n          value={mintForm.imageUrl}\r\n          onChange={handleMintChange}\r\n          placeholder=\"Enter Image URL\"\r\n        />\r\n        <button \r\n          onClick={mintLoyalty} \r\n          disabled={\r\n            loading || \r\n            !mintForm.customerId.trim() || \r\n            !mintForm.imageUrl.trim()\r\n          }\r\n        >\r\n          Mint your NFT\r\n        </button>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoyaltyCardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}